class t{constructor(t,i,h,s){this.x=t,this.y=i,this.radius=h,this.color=s}draw(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill()}}class i{constructor(t,i,h,s,a){this.x=t,this.y=i,this.radius=h,this.color=s,this.velocity=a}draw(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill()}update(){this.draw(),this.x=this.x+this.velocity.x,this.y=this.y+this.velocity.y}}class h{constructor(t,i,h,s,a){this.x=t,this.y=i,this.radius=h,this.color=s,this.velocity=a,this.alpha=1}draw(){e.save(),e.globalAlpha=this.alpha,e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill(),e.restore()}update(){this.draw(),this.velocity.x*=.99,this.velocity.y*=.99,this.x=this.x+this.velocity.x,this.y=this.y+this.velocity.y,this.alpha-=.01}}class s{constructor(t,i,h,s,a){this.x=t,this.y=i,this.radius=h,this.color=s,this.velocity=a}draw(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill()}update(){this.draw(),this.x=this.x+this.velocity.x,this.y=this.y+this.velocity.y}}const a=document.querySelector("canvas"),e=a.getContext("2d");a.width=innerWidth,a.height=innerHeight;const r=document.querySelector("#scoreEl"),o=document.querySelector("#startGameBtn"),l=document.querySelector("#modalEl"),c=document.querySelector("#bigScoreEl"),n=a.width/2,d=a.height/2;let y,u=new t(n,d,10,"white"),x=[],M=[],m=[];let w=0;function p(){y=requestAnimationFrame(p),e.fillStyle="rgba(0, 0, 0, 0.1",e.fillRect(0,0,a.width,a.height),u.draw(),m.forEach(((t,i)=>{t.alpha<=0?m.splice(i,1):t.update()})),x.forEach(((t,i)=>{t.update(),(t.x-t.radius<0||t.x-t.radius>a.width||t.y-t.radius<0||t.y-t.radius>a.height)&&setTimeout((()=>{x.splice(i,1)}),0)})),M.forEach(((t,i)=>{t.update();Math.hypot(u.x-t.x,u.y-t.y)-t.radius-u.radius<1&&(cancelAnimationFrame(y),l.style.display="flex",c.innerHTML=w),x.forEach(((s,a)=>{if(Math.hypot(s.x-t.x,s.y-t.y)-t.radius-s.radius<1){for(let i=0;i<2*t.radius;i++)m.push(new h(s.x,s.y,2*Math.random(),t.color,{x:(Math.random()-.5)*(6*Math.random()),y:(Math.random()-.5)*(6*Math.random())}));t.radius-10>5?(w+=100,r.innerHTML=w,gsap.to(t,{radius:t.radius-10}),setTimeout((()=>{x.splice(a,1)}),0)):(w+=250,r.innerHTML=w,setTimeout((()=>{M.splice(i,1),x.splice(a,1)}),0))}}))}))}addEventListener("click",(t=>{const h=Math.atan2(t.clientY-a.height/2,t.clientX-a.width/2),s={x:4*Math.cos(h),y:4*Math.sin(h)};x.push(new i(a.width/2,a.height/2,5,"white",s))})),o.addEventListener("click",(()=>{u=new t(n,d,10,"white"),x=[],M=[],m=[],w=0,r.innerHTML=w,c.innerHTML=w,p(),setInterval((()=>{const t=26*Math.random()+4;let i,h;Math.random()<.5?(i=Math.random()<.5?0-t:a.width+t,h=Math.random()*a.height):(i=Math.random()*a.width,h=Math.random()<.5?0-t:a.height+t);const e=`hsl(${360*Math.random()}, 50%, 50%)`,r=Math.atan2(a.height/2-h,a.width/2-i),o={x:Math.cos(r),y:Math.sin(r)};M.push(new s(i,h,t,e,o))}),1e3),l.style.display="none"}));
//# sourceMappingURL=index.caf97a16.js.map
